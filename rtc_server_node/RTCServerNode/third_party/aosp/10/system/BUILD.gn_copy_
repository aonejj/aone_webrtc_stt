# Copyright (c) 2024 The AONE SFU project authors

group("system") {
    deps = [ 
        ":aosp_system",
        ":aosp_system_unit_test",
    ]
}

copy("aosp_system") {
  sources = [ "libaosp_system.so" ]
  outtmp = root_out_dir
  outtmp +="/"
  outputs = [ outtmp ]
}

executable("aosp_system_unit_test") {
    sources = [
        "../_system_test_unit/system_core_test.cpp",
    ]

    include_dirs = [
        "core/include",
    ]

    lib_dirs = [
        root_out_dir,
    ]
    
    libs = [
        "pthread",
        "aosp_system",
    ]    

    deps = [
        ":aosp_system",
    ]
}